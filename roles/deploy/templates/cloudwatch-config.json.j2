{
  "agent": {
   "metrics_collection_interval": {{ cloudwatch_agent.metrics_collection_interval }},
   "region": "{{ region }}",
   "logfile": "{{ cloudwatch_agent.log_file }}",
   "debug": false,
   "run_as_user": "{{ cloudwatch_agent.user }}"
  },
  "logs": {
    "logs_collected": {
      "files": {
        "collect_list": [
          {
            "file_path": "{{ cloudwatch_agent.log_file }}",
            "log_group_name": "frontend-tuxedo-cloudwatch",
            "log_stream_name": "{{ cloudwatch_log_stream_name }}"
          }
        ]
      }
    }
  }{% if cloudwatch_agent.metrics_enabled %},
  "metrics": {
    "namespace": "Tuxedo",
    "metrics_collected": {
      "disk": {
        "measurement": [
          "disk_free",
          "disk_inodes_free",
          "disk_inodes_total",
          "disk_inodes_used",
          "disk_total",
          "disk_used",
          "disk_used_percent"
        ],
        "resources": [
          "/"
        ],
        "drop_device": true
      },
      "mem": {
        "measurement": [
          "mem_available",
          "mem_available_percent",
          "mem_free",
          "mem_total",
          "mem_used",
          "mem_used_percent"
        ]
      },
      "processes": {
        "measurement": [
          "processes_total",
          "processes_total_threads"
        ]
      }
    }
  }{% endif %}
}
